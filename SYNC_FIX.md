# –ë–∞—Ä–∞–∞ –±–æ–ª–æ–Ω –î—ç–ª–≥“Ø“Ø—Ä–∏–π–Ω –°–∏–Ω—Ö—Ä–æ–Ω—á–ª–æ–ª—ã–Ω –ê—Å—É—É–¥–ª—ã–Ω –®–∏–π–¥—ç–ª

## üîç –ê—Å—É—É–¥–∞–ª

"–î—ç–ª–≥“Ø“Ø—Ä –∏—Ä—ç—Ö—ç–¥ –±–∞—Ä–∞–∞ —Ö–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π, –±–∞—Ä–∞–∞ –∏—Ä—ç—Ö—ç–¥ –¥—ç–ª–≥“Ø“Ø—Ä –∏—Ä—ç—Ö–≥“Ø–π" - —ç–Ω—ç –Ω—å —Å–∏–Ω—Ö—Ä–æ–Ω—á–ª–æ–ª—ã–Ω –∞—Å—É—É–¥–∞–ª –±–∞–π—Å–∞–Ω.

## ‚úÖ –®–∏–π–¥—ç–ª

### ”®–º–Ω”©—Ö –ê—Å—É—É–¥–∞–ª:

**"Sync now" —Ç–æ–≤—á –¥—ç—ç—Ä:**
```dart
await warehouseProvider.refreshProducts();
await warehouseProvider.refreshShops();
productProvider.setProducts(warehouseProvider.products);
shopProvider.setShops(warehouseProvider.shops);
```

**–ê—Å—É—É–¥–∞–ª:**
- –ë–∞—Ä–∞–∞ –±–æ–ª–æ–Ω –¥—ç–ª–≥“Ø“Ø—Ä–∏–π–≥ refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ –ª `setProducts` –±–æ–ª–æ–Ω `setShops` –¥—É—É–¥–∞–≥–¥–∞–∂ –±–∞–π—Å–∞–Ω
- –•—ç—Ä—ç–≤ –Ω—ç–≥ –Ω—å –∞–ª–¥–∞–∞—Ç–∞–π –±–æ–ª —Ö–æ—ë—É–ª–∞–∞ —à–∏–Ω—ç—á–ª—ç–≥–¥—ç—Ö–≥“Ø–π –±–∞–π—Å–∞–Ω
- UI –Ω—å —Ö–æ—ë—É–ª–∞–∞ –¥—É—É—Å—Å–∞–Ω—ã –¥–∞—Ä–∞–∞ –ª —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–∂ –±–∞–π—Å–∞–Ω

### –û–¥–æ–æ–≥–∏–π–Ω –®–∏–π–¥—ç–ª:

**"Sync now" —Ç–æ–≤—á –¥—ç—ç—Ä:**
```dart
// –ë–∞—Ä–∞–∞ refresh —Ö–∏–π–∂, —à—É—É–¥ —à–∏–Ω—ç—á–ª—ç—Ö
try {
  await warehouseProvider.refreshProducts();
  productProvider.setProducts(warehouseProvider.products);
  debugPrint('‚úÖ Products synced: ${warehouseProvider.products.length}');
} catch (e) {
  debugPrint('‚ùå Failed to refresh products: $e');
  // –ë–∞–π–≥–∞–∞ –º—ç–¥—ç—ç–ª–ª—ç—ç—Ä —à–∏–Ω—ç—á–ª—ç—Ö
  productProvider.setProducts(warehouseProvider.products);
}

// –•—ç—Å—ç–≥ —Ö—É–≥–∞—Ü–∞–∞–Ω—ã –¥–∞—Ä–∞–∞ –¥—ç–ª–≥“Ø“Ø—Ä refresh —Ö–∏–π—Ö
await Future.delayed(const Duration(milliseconds: 500));

// –î—ç–ª–≥“Ø“Ø—Ä refresh —Ö–∏–π–∂, —à—É—É–¥ —à–∏–Ω—ç—á–ª—ç—Ö
try {
  await warehouseProvider.refreshShops();
  shopProvider.setShops(warehouseProvider.shops);
  debugPrint('‚úÖ Shops synced: ${warehouseProvider.shops.length}');
} catch (e) {
  debugPrint('‚ùå Failed to refresh shops: $e');
  // –ë–∞–π–≥–∞–∞ –º—ç–¥—ç—ç–ª–ª—ç—ç—Ä —à–∏–Ω—ç—á–ª—ç—Ö
  shopProvider.setShops(warehouseProvider.shops);
}
```

**–î–∞–≤—É—É —Ç–∞–ª:**
- –ë–∞—Ä–∞–∞ refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à—É—É–¥ UI —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
- –î—ç–ª–≥“Ø“Ø—Ä refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à—É—É–¥ UI —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
- –ù—ç–≥ –Ω—å –∞–ª–¥–∞–∞—Ç–∞–π –±–æ–ª –Ω”©–≥”©”© –Ω—å –∞–º–∂–∏–ª—Ç—Ç–∞–π –∞—á–∞–∞–ª–∞–≥–¥–∞–Ω–∞
- Rate limiting-–∏–π–≥ —É—Ä—å–¥—á–∏–ª–∞–Ω —Å—ç—Ä–≥–∏–π–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ —Ö–æ–æ—Ä–æ–Ω–¥ delay –±–∞–π–Ω–∞

## üîÑ "Connect & Sync" –¢–æ–≤—á

"Connect & Sync" —Ç–æ–≤—á –¥—ç—ç—Ä –º”©–Ω –∏–∂–∏–ª –ª–æ–≥–∏–∫ –∞—à–∏–≥–ª–∞—Å–∞–Ω:

1. **–•–æ–ª–±–æ–≥–¥–æ—Ö** - Login —Ö–∏–π–∂ token –∞–≤–Ω–∞
2. **Profile refresh** - 500ms delay
3. **–ë–∞—Ä–∞–∞ refresh** - –ê–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª —à—É—É–¥ `setProducts` –¥—É—É–¥–Ω–∞
4. **–î—ç–ª–≥“Ø“Ø—Ä refresh** - 500ms delay, –∞–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª —à—É—É–¥ `setShops` –¥—É—É–¥–Ω–∞

## üìä –ê–∂–∏–ª–ª–∞—Ö –ú–µ—Ö–∞–Ω–∏–∑–º

### –ê–ª—Ö–∞–º 1: –ë–∞—Ä–∞–∞ Refresh
```
refreshProducts() ‚Üí setProducts() ‚Üí UI —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
```

### –ê–ª—Ö–∞–º 2: Delay (500ms)
```
Rate limiting-–∏–π–≥ —É—Ä—å–¥—á–∏–ª–∞–Ω —Å—ç—Ä–≥–∏–π–ª—ç—Ö
```

### –ê–ª—Ö–∞–º 3: –î—ç–ª–≥“Ø“Ø—Ä Refresh
```
refreshShops() ‚Üí setShops() ‚Üí UI —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
```

## üéØ “Æ—Ä –î“Ø–Ω

–û–¥–æ–æ:
- ‚úÖ –ë–∞—Ä–∞–∞ refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à—É—É–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
- ‚úÖ –î—ç–ª–≥“Ø“Ø—Ä refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à—É—É–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
- ‚úÖ –ù—ç–≥ –Ω—å –∞–ª–¥–∞–∞—Ç–∞–π –±–æ–ª –Ω”©–≥”©”© –Ω—å –∞–º–∂–∏–ª—Ç—Ç–∞–π –∞—á–∞–∞–ª–∞–≥–¥–∞–Ω–∞
- ‚úÖ Rate limiting-–∏–π–≥ —É—Ä—å–¥—á–∏–ª–∞–Ω —Å—ç—Ä–≥–∏–π–ª—ç–Ω—ç

## üß™ –¢–µ—Å—Ç –•–∏–π—Ö

1. **Settings screen** —Ä—É—É –æ—Ä–æ—Ö
2. **"Connect & Sync"** —ç—Å–≤—ç–ª **"Sync now"** —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–∞—Ö
3. Debug console –¥—ç—ç—Ä –¥–∞—Ä–∞–∞—Ö –ª–æ–≥—É—É–¥—ã–≥ —Ö–∞—Ä–∞—Ö:
   ```
   ‚úÖ Products synced: 6
   ‚úÖ Shops synced: 2
   ```
4. UI –¥—ç—ç—Ä –±–∞—Ä–∞–∞ –±–æ–ª–æ–Ω –¥—ç–ª–≥“Ø“Ø—Ä–∏–π–Ω —Ç–æ–æ —à—É—É–¥ —à–∏–Ω—ç—á–ª—ç–≥–¥—ç—Ö —ë—Å—Ç–æ–π

## ‚ö†Ô∏è –ß—É—Ö–∞–ª

- –ë–∞—Ä–∞–∞ –±–æ–ª–æ–Ω –¥—ç–ª–≥“Ø“Ø—Ä —Ç—É—Å –±“Ø—Ä refresh —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à—É—É–¥ —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç
- –ù—ç–≥ –Ω—å –∞–ª–¥–∞–∞—Ç–∞–π –±–æ–ª –Ω”©–≥”©”© –Ω—å –∞–º–∂–∏–ª—Ç—Ç–∞–π –∞—á–∞–∞–ª–∞–≥–¥–∞–Ω–∞
- Rate limiting-–∏–π–≥ —É—Ä—å–¥—á–∏–ª–∞–Ω —Å—ç—Ä–≥–∏–π–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥ —Ö–æ–æ—Ä–æ–Ω–¥ delay –±–∞–π–Ω–∞
