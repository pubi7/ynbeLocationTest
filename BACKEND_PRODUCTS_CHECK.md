# Backend-–∞–∞—Å –ë–∞—Ä–∞–∞ –ê—á–∞–∞–ª–∞–≥–¥–∞–∂ –ë–∞–π–≥–∞–∞ –≠—Å—ç—Ö–∏–π–≥ –®–∞–ª–≥–∞—Ö

## üîç –®–∞–ª–≥–∞–ª—Ç—ã–Ω “Æ—Ä –î“Ø–Ω

### Backend –°–µ—Ä–≤–µ—Ä –°—Ç–∞—Ç—É—Å:
- ‚úÖ Backend —Å–µ—Ä–≤–µ—Ä –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–Ω–∞ (port 3000)
- ‚ö†Ô∏è Products endpoint –Ω—å **authentication —à–∞–∞—Ä–¥–¥–∞–≥** (token –∑–∞–π–ª—à–≥“Ø–π)

### API –¢–µ—Å—Ç “Æ—Ä –î“Ø–Ω:
```
GET http://192.168.1.6:3000/api/products
Status: 401 Unauthorized
Error: "No token provided. Authorization header must be in format: Bearer <token>"
```

## ‚úÖ –ë–∞—Ä–∞–∞ –ê—á–∞–∞–ª–∞–≥–¥–∞–∂ –ë–∞–π–≥–∞–∞ –≠—Å—ç—Ö–∏–π–≥ –®–∞–ª–≥–∞—Ö –ê—Ä–≥–∞

### 1. Flutter App –î—ç—ç—Ä –®–∞–ª–≥–∞—Ö

#### Settings –¥—ç—ç—Ä:
1. **Settings** screen —Ä—É—É –æ—Ä–æ—Ö
2. **"Connect & Sync"** —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–∞—Ö
3. –•–æ–ª–±–æ–ª—Ç –∞–º–∂–∏–ª—Ç—Ç–∞–π –±–æ–ª—Å–æ–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
4. "‚úÖ Connected" –≥—ç—Å—ç–Ω –º–µ—Å—Å–µ–∂ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π

#### Debug Console –¥—ç—ç—Ä:
App-–∏–π–≥ debug mode-–æ–æ—Ä –∞–∂–∏–ª–ª—É—É–ª–∞–∞–¥ –¥–∞—Ä–∞–∞—Ö –ª–æ–≥—É—É–¥—ã–≥ —Ö–∞–π—Ö:

```
[WarehouseProvider] Fetching products...
[WebBridge] ‚Üí GET /api/products
[WebBridge] Response status: 200
[WebBridge] ‚úÖ Unwrapped data with keys: ...
[WebBridge] Found X products in page 1
[WarehouseProvider] ‚úÖ Fetched X products
```

–•—ç—Ä—ç–≤ –∞–ª–¥–∞–∞ –≥–∞—Ä–≤–∞–ª:
```
[WebBridge] ‚ùå Error fetching products: ...
[WarehouseProvider] ‚ùå Error fetching products: ...
```

### 2. Backend –°–µ—Ä–≤–µ—Ä –î—ç—ç—Ä –®–∞–ª–≥–∞—Ö

#### Server Console –¥—ç—ç—Ä:
Backend —Å–µ—Ä–≤–µ—Ä –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ terminal –¥—ç—ç—Ä –¥–∞—Ä–∞–∞—Ö –ª–æ–≥ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π:

```
Fetching products... { page: '1', limit: '200' }
```

### 3. App –î—ç—ç—Ä –ë–∞—Ä–∞–∞–Ω—ã –ñ–∞–≥—Å–∞–∞–ª—Ç –®–∞–ª–≥–∞—Ö

#### Sales Entry Screen –¥—ç—ç—Ä:
1. **Record Sale** screen —Ä—É—É –æ—Ä–æ—Ö
2. –î—ç–ª–≥“Ø“Ø—Ä —Å–æ–Ω–≥–æ—Ö
3. **"–ë–∞—Ä–∞–∞ —Ö–∞–π—Ö"** —Ç–∞–ª–±–∞—Ä—Ç –±–∏—á–∏—Ö (–∂–∏—à—ç—ç: "–¢–∞–ª—Ö")
4. –ë–∞—Ä–∞–∞–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π

–•—ç—Ä—ç–≤ –±–∞—Ä–∞–∞ —Ö–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π –±–æ–ª:
- Settings –¥—ç—ç—Ä –æ—á–∏–∂ "Connect & Sync" –¥–∞—Ä–∞—Ö
- Debug console-–æ–æ—Å –∞–ª–¥–∞–∞–Ω—ã –º—ç–¥—ç—ç–ª—ç–ª —à–∞–ª–≥–∞—Ö

## üîß –ê—Å—É—É–¥–∞–ª –®–∏–π–¥—ç—Ö

### –ê–ª–¥–∞–∞: "Not connected, skipping product refresh"
**–®–∏–π–¥—ç–ª:**
1. Settings –¥—ç—ç—Ä –æ—á–∏—Ö
2. API URL –∑”©–≤ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö (`http://192.168.1.6:3000`)
3. "Connect & Sync" —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–∞—Ö

### –ê–ª–¥–∞–∞: 401 Unauthorized
**–®–∏–π–¥—ç–ª:**
1. Settings –¥—ç—ç—Ä –æ—á–∏–∂ –¥–∞—Ö–∏–Ω –Ω—ç–≤—Ç—Ä—ç—Ö
2. "Connect & Sync" —Ç–æ–≤—á–∏–π–≥ –¥–∞—Ä–∞—Ö
3. Token –∞–º–∂–∏–ª—Ç—Ç–∞–π –∞–≤—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö

### –ê–ª–¥–∞–∞: 429 Too Many Requests
**–®–∏–π–¥—ç–ª:**
- –•—ç—Å—ç–≥ —Ö—É–≥–∞—Ü–∞–∞–Ω—ã –¥–∞—Ä–∞–∞ –¥–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ—Ö
- Settings –¥—ç—ç—Ä "Connect & Sync" –¥–∞—Ä–∞—Ö–∞–¥ —Ö—ç—Ç –æ–ª–æ–Ω —Ö“Ø—Å—ç–ª—Ç –∏–ª–≥—ç—ç—Ö–≥“Ø–π –±–∞–π—Ö

### –ê–ª–¥–∞–∞: Connection timeout
**–®–∏–π–¥—ç–ª:**
1. Backend —Å–µ—Ä–≤–µ—Ä –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö:
   ```powershell
   netstat -ano | findstr :3000
   ```
2. –•—ç—Ä—ç–≤ –∞–∂–∏–ª–ª–∞—Ö–≥“Ø–π –±–∞–π–≤–∞–ª:
   ```bash
   node server.js
   ```
3. API URL –∑”©–≤ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö (localhost –±–∏—à, IP —Ö–∞—è–≥)

## üìä –ë–∞—Ä–∞–∞–Ω—ã –ú—ç–¥—ç—ç–ª—ç–ª

### Backend –¥—ç—ç—Ä—Ö Mock –ë–∞—Ä–∞–∞–Ω—É—É–¥:
1. –¢–∞–ª—Ö - 2500‚ÇÆ (retail), 2200‚ÇÆ (wholesale)
2. –°“Ø“Ø - 3500‚ÇÆ (retail), 3200‚ÇÆ (wholesale)
3. ”®–Ω–¥”©–≥ - 500‚ÇÆ (retail), 450‚ÇÆ (wholesale)
4. –£–Ω–¥–∞–∞ - 1500‚ÇÆ (retail), 1200‚ÇÆ (wholesale)
5. –ì—É—Ä–∏–ª - 4500‚ÇÆ (retail), 4000‚ÇÆ (wholesale)
6. –ë—è—Å–ª–∞–≥ - 8000‚ÇÆ (retail), 7500‚ÇÆ (wholesale)

### –ë–∞—Ä–∞–∞ –ê—á–∞–∞–ª–∞–≥–¥—Å–∞–Ω –≠—Å—ç—Ö–∏–π–≥ –®–∞–ª–≥–∞—Ö:
- App –¥—ç—ç—Ä —Ö–∞–π–ª—Ç —Ö–∏–π—Ö—ç–¥ —ç–¥–≥—ç—ç—Ä –±–∞—Ä–∞–∞–Ω—É—É–¥ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π
- Debug console –¥—ç—ç—Ä `[WarehouseProvider] ‚úÖ Fetched 6 products` –≥—ç—Å—ç–Ω –ª–æ–≥ —Ö–∞—Ä–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π

## üéØ –î“Ø–≥–Ω—ç–ª—Ç

Backend —Å–µ—Ä–≤–µ—Ä –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ –±–æ–ª–æ–≤—á **authentication —à–∞–∞—Ä–¥–¥–∞–≥**. –¢–∏–π–º—ç—ç—Å:

1. ‚úÖ App –Ω—å **token-—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥—Å–æ–Ω** –±–∞–π—Ö —ë—Å—Ç–æ–π
2. ‚úÖ Settings –¥—ç—ç—Ä "Connect & Sync" –¥–∞—Ä–∞—Ö–∞–¥ token –∞–≤—á, –±–∞—Ä–∞–∞ —Ç–∞—Ç–∞–≥–¥–∞—Ö —ë—Å—Ç–æ–π
3. ‚úÖ –•—ç—Ä—ç–≤ –±–∞—Ä–∞–∞ —Ö–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π –±–æ–ª debug console-–æ–æ—Å –∞–ª–¥–∞–∞–Ω—ã –º—ç–¥—ç—ç–ª—ç–ª —à–∞–ª–≥–∞—Ö
